(()=>{"use strict";const t=new class{constructor(t){this.rootDiv=t}viewInit(){this.rootDiv=document.getElementById("root")}drawLoader(){this.rootDiv.innerHTML='<div class="lds-dual-ring"></div>'}drawError(){this.rootDiv.innerHTML="<div>Ошибка загрузки</div>"}drawEmpty(){this.rootDiv.innerHTML="<div>Нет данных</div>"}drawItems(t){const e=[];if(t&&t.length){e.push('<h1 class="header">Изучайте <span class="blue">актуальные темы</span></h1>');for(let o=0;o<t.length;o++)e.push(`<div class="item">\n                        <div class="item-name">\n                            <h2>${t[o].direction&&t[o].direction.title?t[o].direction.title:"Нет имени("}</h2>\n                            <p>${t[o].groups&&t[o].groups.length?t[o].groups.length+this.getCourseNoun(t[o].groups.length):"Нет курсов"} </p>\n                        </div>\n                        <input type="checkbox" class="checkbox" name="course" />\n                    </div>`);this.rootDiv.innerHTML=e.join("")}}getCourseNoun(t){const e=Math.abs(t)%100,o=e%10;return e>10&&e<20?" курсов":o>1&&o<5?" курса":1==o?" курс":" курсов"}},e=new class{makeRequest(t){return fetch(t).then((t=>t.ok?t.json():t.json().then((t=>{throw new Error("ошибка")}))))}};t.viewInit(),async function(){try{t.drawLoader();let o=await e.makeRequest("https://gitcdn.link/repo/netology-code/ajs-task/master/netology.json");console.log(o),o&&o.data&&o.data.length?setTimeout((()=>t.drawItems(o.data)),700):t.drawEmpty()}catch(e){console.log(e),t.drawError()}}()})();